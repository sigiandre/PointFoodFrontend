{"remainingRequest":"C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\src\\shared\\LoginAndRegister.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\src\\shared\\LoginAndRegister.vue","mtime":1593277662000},{"path":"C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW5BbmRSZWdpc3RlciIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYjogImxvZ2luIiwKICAgICAgcm9sZTogImNsaWVudCIsCiAgICAgIHByb3hpZXM6IG51bGwsCiAgICAgIGxvZ2luOiB7CiAgICAgICAgZW1haWw6IG51bGwsCiAgICAgICAgcGFzc3dvcmQ6IG51bGwsCiAgICAgICAgbG9hZGluZzogZmFsc2UKICAgICAgfSwKICAgICAgcmVnaXN0ZXI6IHsKICAgICAgICBlbWFpbDogbnVsbCwKICAgICAgICBwYXNzd29yZDogbnVsbCwKICAgICAgICBwaG9uZW51bWJlcjogbnVsbCwKICAgICAgICBuYW1lOiBudWxsLAogICAgICAgIGxvYWRpbmc6IGZhbHNlCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhdXRoZW50aWNhdGU6IGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9naW4ubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuJHByb3hpZXMuaWRlbnRpdHlQcm94eS5sb2dpbih0aGlzLmxvZ2luKS50aGVuKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgX3RoaXMubG9naW4ubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzLiRwYXJlbnQuaXNMb2dnZWRJbiA9IHRydWU7CgogICAgICAgIF90aGlzLiRub3RpZnkoewogICAgICAgICAgZ3JvdXA6ICJnbG9iYWwiLAogICAgICAgICAgdHlwZTogImlzLXN1Y2Nlc3MiLAogICAgICAgICAgdGV4dDogIlN1IGFjY2VzbyBoYSBzaWRvIHZhbGlkYWRvIGNvcnJlY3RhbWVudGUuIgogICAgICAgIH0pOwoKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiYWNjZXNzX3Rva2VuIiwgeC5kYXRhKTsKCiAgICAgICAgX3RoaXMuJHVzZXIuaW5pdGlhbGl6ZSgpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoeCkgewogICAgICAgIGlmICh4LnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAwKSB7CiAgICAgICAgICBfdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgZ3JvdXA6ICJnbG9iYWwiLAogICAgICAgICAgICB0eXBlOiAiaXMtd2FybmluZyIsCiAgICAgICAgICAgIHRleHQ6IHgucmVzcG9uc2UuZGF0YQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5sb2dpbi5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZE5ld1VzZXI6IGZ1bmN0aW9uIGFkZE5ld1VzZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5yZWdpc3Rlci5sb2FkaW5nID0gdHJ1ZTsKCiAgICAgIGlmICh0aGlzLnJvbGUgPT0gJ2NsaWVudCcpIHsKICAgICAgICB0aGlzLnByb3hpZXMgPSB0aGlzLiRwcm94aWVzLmNsaWVudFByb3h5OwogICAgICB9CgogICAgICBpZiAodGhpcy5yb2xlID09ICdyZXN0YXVyYW50b3duZXInKSB7CiAgICAgICAgdGhpcy5wcm94aWVzID0gdGhpcy4kcHJveGllcy5yZXN0YXVyYW50T3duZXJQcm94eTsKICAgICAgfQoKICAgICAgdGhpcy5wcm94aWVzLnJlZ2lzdGVyKHRoaXMucmVnaXN0ZXIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5yZWdpc3Rlci5lbWFpbCA9IG51bGw7CiAgICAgICAgX3RoaXMyLnJlZ2lzdGVyLnBhc3N3b3JkID0gbnVsbDsKICAgICAgICBfdGhpczIucmVnaXN0ZXIucGhvbmVudW1iZXIgPSBudWxsOwogICAgICAgIF90aGlzMi5yZWdpc3Rlci5uYW1lID0gbnVsbDsKCiAgICAgICAgX3RoaXMyLiRub3RpZnkoewogICAgICAgICAgZ3JvdXA6ICJnbG9iYWwiLAogICAgICAgICAgdHlwZTogImlzLXN1Y2Nlc3MiLAogICAgICAgICAgdGV4dDogIlN1IGN1ZW50YSBoYSBzaWRvIGNyZWFkYSBjb24gw6l4aXRvIgogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIucmVnaXN0ZXIubG9hZGluZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoeCkgewogICAgICAgIGlmICh4LnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAwKSB7CiAgICAgICAgICBfdGhpczIuJG5vdGlmeSh7CiAgICAgICAgICAgIGdyb3VwOiAiZ2xvYmFsIiwKICAgICAgICAgICAgdHlwZTogImlzLXdhcm5pbmciLAogICAgICAgICAgICB0ZXh0OiB4LnJlc3BvbnNlLmRhdGEKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMyLnJlZ2lzdGVyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["LoginAndRegister.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"columns is-centered\">\r\n    <div class=\"column is-6\">\r\n      <div class=\"has-text-centered\">\r\n        <img src=\"../assets/logo.png\" />\r\n        <hr />\r\n      </div>\r\n      <div class=\"box\">\r\n        <div class=\"tabs is-boxed\">\r\n          <ul>\r\n            <li :class=\"{'is-active': tab === 'login'}\">\r\n              <a @click=\"tab = 'login'\">Iniciar sesión</a>\r\n            </li>\r\n            <li :class=\"{'is-active': tab === 'register'}\">\r\n              <a @click=\"tab = 'register'\">Crear cuenta</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <form @submit.prevent=\"authenticate\" v-if=\"tab === 'login'\">\r\n          <div class=\"field\">\r\n            <input\r\n              :disabled=\"login.loading\"\r\n              v-model=\"login.email\"\r\n              required\r\n              class=\"input\"\r\n              type=\"email\"\r\n              placeholder=\"Ingrese su correo electrónico\"\r\n            />\r\n          </div>\r\n          <div class=\"field\">\r\n            <input\r\n              :disabled=\"login.loading\"\r\n              v-model=\"login.password\"\r\n              required\r\n              class=\"input\"\r\n              type=\"password\"\r\n              placeholder=\"Ingrese su contraseña\"\r\n            />\r\n          </div>\r\n          <div class=\"field\">\r\n            <button :disabled=\"login.loading\" type=\"submit\" class=\"button is-info\">Ingresar</button>\r\n          </div>\r\n        </form>\r\n\r\n        <form @submit.prevent=\"addNewUser\" v-if=\"tab === 'register'\">\r\n          <div class=\"field\">\r\n            <b-radio v-model=\"role\"\r\n                type=\"is-info\"\r\n                native-value=\"client\">\r\n                Cliente\r\n            </b-radio>\r\n            <b-radio v-model=\"role\"\r\n                type=\"is-info\"\r\n                native-value=\"restaurantowner\">\r\n                Dueño de Restaurante\r\n            </b-radio>\r\n          </div>\r\n          <div class=\"field\">\r\n            <input\r\n              :disabled=\"register.loading\"\r\n              v-model=\"register.email\"\r\n              required\r\n              autocomplete=\"false\"\r\n              class=\"input\"\r\n              type=\"email\"\r\n              placeholder=\"Ingrese su correo electrónico\"\r\n            />\r\n          </div>\r\n          <div class=\"field\">\r\n            <input\r\n              :disabled=\"register.loading\"\r\n              v-model=\"register.name\"\r\n              required\r\n              autocomplete=\"false\"\r\n              class=\"input\"\r\n              type=\"text\"\r\n              placeholder=\"Ingrese su nombre\"\r\n            />\r\n          </div>\r\n          <div class=\"field\">\r\n            <input\r\n              :disabled=\"register.loading\"\r\n              v-model=\"register.phonenumber\"\r\n              v-if=\"role==='client'\"\r\n              required\r\n              autocomplete=\"false\"\r\n              class=\"input\"\r\n              type=\"text\"\r\n              placeholder=\"Ingrese su número de teléfono\"\r\n            />\r\n          </div>\r\n          <div class=\"field\">\r\n            <input\r\n              :disabled=\"register.loading\"\r\n              v-model=\"register.password\"\r\n              required\r\n              autocomplete=\"false\"\r\n              class=\"input\"\r\n              type=\"password\"\r\n              placeholder=\"Ingrese su contraseña\"\r\n            />\r\n          </div>\r\n          <div class=\"field\">\r\n            <button :disabled=\"register.loading\" type=\"submit\" class=\"button is-info\">Registrar</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"LoginAndRegister\",\r\n  data() {\r\n    return {\r\n      tab: \"login\",\r\n      role: \"client\",\r\n      proxies: null,\r\n      login: {\r\n        email: null,\r\n        password: null,\r\n        loading: false\r\n      },\r\n      register: {\r\n        email: null,\r\n        password: null,\r\n        phonenumber: null,\r\n        name: null,\r\n        loading: false\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    authenticate() {\r\n      this.login.loading = true;\r\n      this.$proxies.identityProxy\r\n        .login(this.login)\r\n        .then(x => {\r\n          this.login.loading = false;\r\n          this.$parent.isLoggedIn = true;\r\n\r\n          this.$notify({\r\n            group: \"global\",\r\n            type: \"is-success\",\r\n            text: \"Su acceso ha sido validado correctamente.\"\r\n          });\r\n\r\n          localStorage.setItem(\"access_token\", x.data);\r\n          this.$user.initialize();\r\n        })\r\n        .catch(x => {\r\n          if (x.response.status === 400) {\r\n            this.$notify({\r\n              group: \"global\",\r\n              type: \"is-warning\",\r\n              text: x.response.data\r\n            });\r\n          }\r\n\r\n          this.login.loading = false;\r\n        });\r\n    },\r\n    addNewUser() {\r\n      this.register.loading = true;\r\n      if(this.role == 'client'){\r\n        this.proxies = this.$proxies.clientProxy;\r\n      }\r\n      if(this.role == 'restaurantowner'){\r\n        this.proxies = this.$proxies.restaurantOwnerProxy;\r\n      }\r\n      this.proxies\r\n        .register(this.register)\r\n        .then(() => {\r\n          this.register.email = null;\r\n          this.register.password = null;\r\n          this.register.phonenumber = null;\r\n          this.register.name = null;\r\n\r\n          this.$notify({\r\n            group: \"global\",\r\n            type: \"is-success\",\r\n            text: \"Su cuenta ha sido creada con éxito\"\r\n          });\r\n          this.register.loading = false;\r\n        })\r\n        .catch(x => {\r\n          if (x.response.status === 400) {\r\n            this.$notify({\r\n              group: \"global\",\r\n              type: \"is-warning\",\r\n              text: x.response.data\r\n            });\r\n          }\r\n          this.register.loading = false;\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>"],"sourceRoot":"src/shared"}]}