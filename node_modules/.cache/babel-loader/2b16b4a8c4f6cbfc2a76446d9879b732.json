{"remainingRequest":"C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\src\\components\\restaurantowners\\products\\ProductCreateOrUpdate.js?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\src\\components\\restaurantowners\\products\\ProductCreateOrUpdate.js","mtime":1593456458000},{"path":"C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Marco\\Desktop\\CURSOS 2020\\APL webC#\\Proyecto Point Food\\Frontend\\point-food\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IExvYWRlciBmcm9tICdAL3NoYXJlZC9Mb2FkZXInOwppbXBvcnQgUGFnZXIgZnJvbSAnQC9zaGFyZWQvUGFnZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Byb2R1Y3RDcmVhdGVPclVwZGF0ZScsCiAgY29tcG9uZW50czogewogICAgTG9hZGVyOiBMb2FkZXIsCiAgICBQYWdlcjogUGFnZXIKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldCgpOwogICAgdGhpcy5nZXRQcm9kdWN0VHlwZXMoMSk7CiAgfSwKICB2YWxpZGF0b3JzOiB7CiAgICAnbW9kZWwubmFtZSc6IGZ1bmN0aW9uIG1vZGVsTmFtZSh2YWx1ZSkgewogICAgICByZXR1cm4gdGhpcy4kdmFsaWRhdG9yLnZhbHVlKHZhbHVlKS5yZXF1aXJlZCgpLm1pbkxlbmd0aCg1KS5tYXhMZW5ndGgoNTApOwogICAgfSwKICAgICdtb2RlbC5kZXNjcmlwdGlvbic6IGZ1bmN0aW9uIG1vZGVsRGVzY3JpcHRpb24odmFsdWUpIHsKICAgICAgcmV0dXJuIHRoaXMuJHZhbGlkYXRvci52YWx1ZSh2YWx1ZSkucmVxdWlyZWQoKS5taW5MZW5ndGgoNSkubWF4TGVuZ3RoKDIwMCk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgbW9kZWw6IHsKICAgICAgICBwcm9kdWN0SWQ6IDAsCiAgICAgICAgbmFtZTogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICBwcmljZTogbnVsbCwKICAgICAgICBwcm9kdWN0VHlwZUlkOiBudWxsLAogICAgICAgIHByb2R1Y3RUeXBlTmFtZTogbnVsbCwKICAgICAgICB1c2VySWQ6IG51bGwKICAgICAgfSwKICAgICAgY29sbGVjdGlvbjogewogICAgICAgIGhhc0l0ZW1zOiBmYWxzZSwKICAgICAgICBpdGVtczogW10sCiAgICAgICAgdG90YWw6IDAsCiAgICAgICAgcGFnZTogMSwKICAgICAgICBwYWdlczogMAogICAgICB9LAogICAgICB1c2VyOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgIGlmICghaWQpIHJldHVybjsKICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLiRwcm94aWVzLnByb2R1Y3RQcm94eS5nZXQoaWQpLnRoZW4oZnVuY3Rpb24gKHgpIHsKICAgICAgICBfdGhpcy5tb2RlbCA9IHguZGF0YTsKICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBfdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIGdyb3VwOiAiZ2xvYmFsIiwKICAgICAgICAgIHR5cGU6ICJpcy1kYW5nZXIiLAogICAgICAgICAgdGV4dDogJ09jdXJyacOzIHVuIGVycm9yIGluZXNwZXJhZG8nCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFByb2R1Y3RUeXBlczogZnVuY3Rpb24gZ2V0UHJvZHVjdFR5cGVzKHBhZ2UpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuJHByb3hpZXMucHJvZHVjdFR5cGVQcm94eS5nZXRBbGwocGFnZSwgMzApLnRoZW4oZnVuY3Rpb24gKHgpIHsKICAgICAgICBfdGhpczIuY29sbGVjdGlvbiA9IHguZGF0YTsKICAgICAgICBfdGhpczIuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHZhbGlkYXRlKCkudGhlbihmdW5jdGlvbiAoc3VjY2VzcykgewogICAgICAgIGlmICghc3VjY2VzcykgcmV0dXJuOwogICAgICAgIF90aGlzMy5pc0xvYWRpbmcgPSB0cnVlOwoKICAgICAgICBpZiAoX3RoaXMzLm1vZGVsLnByb2R1Y3RJZCkgewogICAgICAgICAgX3RoaXMzLiRwcm94aWVzLnByb2R1Y3RQcm94eS51cGRhdGUoX3RoaXMzLm1vZGVsLnByb2R1Y3RJZCwgX3RoaXMzLm1vZGVsKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMzLiRub3RpZnkoewogICAgICAgICAgICAgIGdyb3VwOiAiZ2xvYmFsIiwKICAgICAgICAgICAgICB0eXBlOiAiaXMtc3VjY2VzcyIsCiAgICAgICAgICAgICAgdGV4dDogJ1Byb2R1Y3RvIGFjdHVhbGl6YWRvIGNvbiDDqXhpdG8nCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgnL3Byb2R1Y3RzJyk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMy5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzMy4kbm90aWZ5KHsKICAgICAgICAgICAgICBncm91cDogImdsb2JhbCIsCiAgICAgICAgICAgICAgdHlwZTogImlzLWRhbmdlciIsCiAgICAgICAgICAgICAgdGV4dDogJ09jdXJyacOzIHVuIGVycm9yIGluZXNwZXJhZG8nCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy5tb2RlbC51c2VySWQgPSBfdGhpczMudXNlci5pZDsKCiAgICAgICAgICBfdGhpczMuJHByb3hpZXMucHJvZHVjdFByb3h5LmNyZWF0ZShfdGhpczMubW9kZWwpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgZ3JvdXA6ICJnbG9iYWwiLAogICAgICAgICAgICAgIHR5cGU6ICJpcy1zdWNjZXNzIiwKICAgICAgICAgICAgICB0ZXh0OiAnUHJvZHVjdG8gY3JlYWRvIGNvbiDDqXhpdG8nCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgnL3Byb2R1Y3RzJyk7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMy5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgIF90aGlzMy4kbm90aWZ5KHsKICAgICAgICAgICAgICBncm91cDogImdsb2JhbCIsCiAgICAgICAgICAgICAgdHlwZTogImlzLWRhbmdlciIsCiAgICAgICAgICAgICAgdGV4dDogJ09jdXJyacOzIHVuIGVycm9yIGluZXNwZXJhZG8nCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:/Users/Marco/Desktop/CURSOS 2020/APL webC#/Proyecto Point Food/Frontend/point-food/src/components/restaurantowners/products/ProductCreateOrUpdate.js"],"names":["Loader","Pager","name","components","mounted","get","getProductTypes","validators","value","$validator","required","minLength","maxLength","data","isLoading","model","productId","description","price","productTypeId","productTypeName","userId","collection","hasItems","items","total","page","pages","user","$store","state","methods","id","$route","params","$proxies","productProxy","then","x","catch","$notify","group","type","text","productTypeProxy","getAll","create","$validate","success","update","$router","push"],"mappings":"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","sourcesContent":["import Loader from '@/shared/Loader'\r\nimport Pager from '@/shared/Pager'\r\n\r\nexport default {\r\n  name: 'ProductCreateOrUpdate',\r\n  components: {\r\n    Loader, Pager\r\n  },\r\n  mounted() {\r\n    this.get();\r\n    this.getProductTypes(1);\r\n  },\r\n  validators: {\r\n    'model.name'(value) {\r\n      return this.$validator\r\n        .value(value)\r\n        .required()\r\n        .minLength(5)\r\n        .maxLength(50);\r\n    },\r\n    'model.description'(value) {\r\n      return this.$validator\r\n        .value(value)\r\n        .required()\r\n        .minLength(5)\r\n        .maxLength(200);\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      model: {\r\n        productId: 0,\r\n        name: null,\r\n        description: null,\r\n        price: null,\r\n        productTypeId: null,\r\n        productTypeName: null,\r\n        userId: null\r\n      },\r\n      collection: {\r\n        hasItems: false,\r\n        items: [],\r\n        total: 0,\r\n        page: 1,\r\n        pages: 0,\r\n      },\r\n      user: this.$store.state.user\r\n    }\r\n  },\r\n  methods: {\r\n    get() {\r\n      let id = this.$route.params.id;\r\n\r\n      if (!id) return;\r\n\r\n      this.isLoading = true;\r\n      this.$proxies.productProxy.get(id)\r\n        .then(x => {\r\n          this.model = x.data;\r\n          this.isLoading = false;\r\n        })\r\n        .catch(() => {\r\n          this.isLoading = false;\r\n          this.$notify({\r\n            group: \"global\",\r\n            type: \"is-danger\",\r\n            text: 'Ocurrió un error inesperado'\r\n          });\r\n        })\r\n    },\r\n    getProductTypes(page){\r\n      this.isLoading = true;\r\n\r\n      this.$proxies.productTypeProxy\r\n        .getAll(page, 30)\r\n        .then((x) => {\r\n          this.collection = x.data;\r\n          this.isLoading = false;\r\n        })\r\n        .catch(() => {\r\n          this.isLoading = false;\r\n        });\r\n    },\r\n    create() {\r\n      this.$validate().then(success => {\r\n        if (!success) return;\r\n\r\n        this.isLoading = true;\r\n\r\n        if(this.model.productId) {\r\n          this.$proxies.productProxy.update(this.model.productId, this.model)\r\n          .then(() => {\r\n            this.$notify({\r\n              group: \"global\",\r\n              type: \"is-success\",\r\n              text: 'Producto actualizado con éxito'\r\n            });\r\n            this.$router.push('/products');\r\n          })\r\n          .catch(() => {\r\n            this.isLoading = false;\r\n            this.$notify({\r\n              group: \"global\",\r\n              type: \"is-danger\",\r\n              text: 'Ocurrió un error inesperado'\r\n            });\r\n          });\r\n        } else {\r\n          this.model.userId = this.user.id;\r\n          this.$proxies.productProxy.create(this.model)\r\n          .then(() => {\r\n            this.$notify({\r\n              group: \"global\",\r\n              type: \"is-success\",\r\n              text: 'Producto creado con éxito'\r\n            });\r\n            this.$router.push('/products');\r\n          })\r\n          .catch(() => {\r\n            this.isLoading = false;\r\n            this.$notify({\r\n              group: \"global\",\r\n              type: \"is-danger\",\r\n              text: 'Ocurrió un error inesperado'\r\n            });\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n}"]}]}